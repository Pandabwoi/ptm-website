<!DOCTYPE html>
<html>
<head>
  <title>PTM Token Generator</title>
</head>
<body>
  <h2>Get Your Token</h2>

  <label>Section:
    <select id="section">
      <option value="1A">1A</option>
      <option value="1B">1B</option>
      <!-- Add more sections here -->
    </select>
  </label>
  <br><br>

  <label>Name:
    <input type="text" id="name" />
  </label>
  <br><br>

  <button onclick="getToken()">Get Token</button>

  <p id="result"></p>

  <script>
    async function getToken() {
      const section = document.getElementById('section').value;
      const name = document.getElementById('name').value;

      if (!name) {
        alert("Please enter your name");
        return;
      }

      const url = "https://script.google.com/macros/s/AKfycbzJ_xPPrIZTYSqdPV1CulI0PaJItm3HaXPPaWazkPk_f5ucJuh0D9qCrYNZvJi48RGv/exec";

      const formData = new FormData();
      formData.append("section", section);
      formData.append("name", name);

      try {
        const response = await fetch(url, {
          method: "POST",
          body: formData
        });

        const token = await response.text();
        document.getElementById("result").innerText = "Your Token Number: " + token;
      } catch (err) {
        document.getElementById("result").innerText = "Error: " + err;
      }
    }
  </script>
</body>
</html>

      const fullSection = grade + section;
      localStorage.setItem("ptm_section", fullSection);
      window.location.href = "form.html";
    }
  </script>
</body>
</html>
